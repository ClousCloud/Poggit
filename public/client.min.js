var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,f=0;f<e;f++){var k=a[f];if(b.call(c,k,f,a))return{i:f,v:k}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,e){if(b){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var f=a[e];f in c||(c[f]={});c=c[f]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
$(function(){function a(){csrf("session/online",{},function(a){return $("#online-user-count").text(a+" online").css("display","list-item")})}console.info("Help us improve Poggit on GitHub: https://github.com/poggit/poggit");(function(){PoggitConsts.Debug||"https"===window.location.protocol.replace(":","")&&"poggit.pmmp.io"===location.host||location.replace("https://poggit.pmmp.io"+window.location.pathname);var a=location.pathname.split("/",3);3===a.length&&void 0!==c[a[1]]&&history.replaceState(null,
"","/"+c[a[1]]+"/"+a[2])})();var b=$(this);b.find(".navbutton").each(function(){if(!this.hasAttribute("data-navbutton-init")){this.setAttribute("data-navbutton-init","true");var a=$(this),b=this.getAttribute("data-target"),c;if(c=!a.hasClass("extlink"))b="/"+b;var d=$("<a></a>");d.addClass("navlink");d.attr("href",b);c||d.attr("target","_blank");a.wrapInner(d)}});b.tooltip({content:function(){var a=$(this);return a.hasClass("html-tooltip")?a.prop("title"):$("<span></span>").text(a.prop("title")).html()}});
b.find("#toggle-wrapper").each(function(){if(!this.hasAttribute("data-toggle-init")){this.setAttribute("data-toggle-init","true");var a=$(this),b=this.getAttribute("data-name"),c=!1;if(null===b&&(b=this.getAttribute("data-escaped-name"),c=!0,null===b))throw Error("Toggle name missing");var d="true"===this.getAttribute("data-opened"),e=$("<div class='wrapper' data-opened='false'></div>");a.wrapInner(e);var f=$("<h5 class='wrapper-header'></h5>");c?f.text(b):f.html(b);var h=$("<img width='24' class='wrapper-toggle-button'/>").attr("src",
"/res/expand_arrow-24.png"),l=function(){e.attr("data-opened","false");a.css("display","none");h.attr("src","/res/expand_arrow-24.png")},m=function(){e.attr("data-opened","true");a.css("display","flex");h.attr("src","/res/collapse_arrow-24.png")};e.prepend(f.append(h.click(function(){"true"===e.attr("data-opened")?l():m()})));d?m():l()}});b.find(".dynamic-anchor").each(function(){if(!this.hasAttribute("data-dynamic-anchor-init")){this.setAttribute("data-dynamic-anchor-init","true");var a=$(this);
a.parent().hover(function(){return a.css("visibility","visible")},function(){return a.css("visibility","hidden")})}});b.find("#hide-tos-button").click(function(){return csrf("session/hideTos",{},function(){document.getElementById("remind-tos").style.display="none"})});b.find("#nav-logout").click(function(){return csrf("login/logout",{},function(){return window.location.reload()})});setInterval(function(){var a=new Date,b=a.getTime();$(".time, .time-elapse").each(function(){var c=parseInt(this.getAttribute("data-timestamp")),
d=new Date(c),g=Math.abs(b-c),k=10>d.getHours()?"0"+d.getHours():d.getHours().toString(),h=10>d.getMinutes()?"0"+d.getMinutes():d.getMinutes().toString(),l=10>d.getSeconds()?"0"+d.getSeconds():d.getSeconds().toString();a.getFullYear()!==d.getFullYear()?this.innerText=e[d.getMonth()]+" "+d.getDate()+", "+d.getFullYear():6048E5<g?this.innerText=e[d.getMonth()]+" "+d.getDate()+", "+k+":"+h+":"+l:a.getDate()!==d.getDate()?this.innerText=f[d.getDay()]+", "+k+":"+h+":"+l:this.innerText=144E5<g?k+":"+h+
":"+l:(36E5<=g?Math.floor(g/36E5)+" hours ":6E4<=g?Math.floor(g/6E4)+" minutes ":Math.floor(g/1E3)+" seconds ")+(b>c?"ago":"later")})},300);setInterval(a,6E4);a();var c={pi:"plugins",index:"plugins",release:"p",rel:"p",plugin:"p",build:"ci",b:"ci",dev:"ci"},e="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),f="Sun Mon Tue Wed Thu Fri Sat".split(" ")});function nop(){}
function csrf(a,b,c,e){void 0===b&&(b={});void 0===c&&(c=nop);void 0===e&&(e=function(b){return alert("Error POSTing "+a+": "+b)});$.post("/csrf",{},function(f){$.ajax("/csrf/"+a,{dataType:"json",data:JSON.stringify(b),headers:{"Content-Type":"application/json","X-Poggit-CSRF":f},method:"POST",success:function(a){a.success?c(a.data):e(a.message)}})})}
function login(a){void 0===a&&(a=window.location.toString());csrf("login/persistLoc",{path:a},function(a){window.location.assign("https://github.com/login/oauth/authorize?client_id="+PoggitConsts.App.ClientId+"&state="+a.state)})};

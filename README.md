Poggit 2.0
==========

## What is Poggit?
Poggit is composed of a CI and a release platform. What does this mean?

For developers:
- When you push a commit to GitHub, Poggit will create a phar for your plugin.
- You can submit good development builds. Staff and the members of the community will review it, and then your plugin will be listed in https://poggit.pmmp.io/plugins

For users:
- You can find plugins from https://poggit.pmmp.io/plugins
- You can also login and review the plugins. Spread the word if it's a great plugin!
- You can even be a plugin reviewer and decide if the plugin should be approved or rejected! https://poggit.pmmp.io/review
- You can also find the latest development builds for your projects

## Can I host it myself?
Yes, technically you can, although discouraged.

Poggit manages a website that allows users to find plugins. Therefore, if everyone creates their own Poggit website, it will be confusing for users as plugin lists are scattered everywhere. For the sake of the community, unless you have improved your version of Poggit so much that the original version is no longer worth existing, please don't host a public Poggit yourself.

However, for various reasons, mainly that I am a stubborn Free Software supporter, you can still host a Poggit instance yourself. This project is licensed under the Apache license, Version 2.0. You can obtain a full copy of this license at the [LICENSE](LICENSE) file.

Nevertheless, Poggit is open-sourced for developers, not businesses. It is here for developers to improve it, or to learn from it, _"to build software better, **together**"_. You are welcome if you want to host Poggit yourself for security reasons, or for testing. But if you are hosting Poggit for profit reasons, **I politely ask you not to do that**.

## There are many folders in this repo. Which one is the source code?
* `bin`: contains a single file called `www`. This file is the entry file for the server.
* `client`: the TypeScript source code for client-side JS.
* `server`: the TypeScript source code for server-side JS.
* `legacy`: contains old JS files copied from Poggit 1.0-beta that are still used.
* `res`: contains CSS and other UI-related files that are directly sent to the client. We always call them "res"; don't confuse with or call them "resource".
* `views`: contains the pug files used for generating HTML sent to the client.
* `mysql`: contains MySQL DDL explaining the database structure.
* `signal`: the TypeScript type definition files used both in client-side and server-side JS. Only `*.d.ts` files are allowed here.
* `dev`: some tools used for development here.
* `public`: the JS generated from `client`. Do **not** edit this file in pull requests. They should only be updated in the `gamma` branch.
* `private`: the JS generated from `server`. Do **not** edit this file in pull requests. They should only be updated in the `gamma` branch.

In addition, some files may be generated if you setup the environment:
* `node_modules`: the npm library root
* `resources`: the resource files generated by the server, containing user-specific data. We always call them "resource", or abbreviated as "rsr"; don't confuse with or call them "res".
* `secret`: contains an `app.pem` (GitHub app private key) and a `secrets.json`. The schema of secrets.json is specified in [secrets.ts](server/secrets.ts). secrets.ts is generated from secrets.json using [compileSecrets.js](dev/compileSecrets.js).
